!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){var e=Array.prototype.slice,i=Array.prototype.splice,n={topSpacing:0,bottomSpacing:0,className:"is-sticky",wrapperClassName:"sticky-wrapper",center:!1,getWidthFrom:"",widthFromWrapper:!0,responsiveWidth:!1,zIndex:"auto"},o=t(window),s=t(document),r=[],a=o.height(),l=function(){for(var e=o.scrollTop(),i=s.height(),n=i-a,l=e>n?n-e:0,h=0,c=r.length;c>h;h++){var d=r[h],p=d.stickyWrapper.offset().top,f=p-d.topSpacing-l;if(d.stickyWrapper.css("height",d.stickyElement.outerHeight()),f>=e)null!==d.currentTop&&(d.stickyElement.css({width:"",position:"",top:"","z-index":""}),d.stickyElement.parent().removeClass(d.className),d.stickyElement.trigger("sticky-end",[d]),d.currentTop=null);else{var u=i-d.stickyElement.outerHeight()-d.topSpacing-d.bottomSpacing-e-l;if(0>u?u+=d.topSpacing:u=d.topSpacing,d.currentTop!==u){var v;d.getWidthFrom?v=t(d.getWidthFrom).width()||null:d.widthFromWrapper&&(v=d.stickyWrapper.width()),null==v&&(v=d.stickyElement.width()),d.stickyElement.css("width",v).css("position","fixed").css("top",u).css("z-index",d.zIndex),d.stickyElement.parent().addClass(d.className),null===d.currentTop?d.stickyElement.trigger("sticky-start",[d]):d.stickyElement.trigger("sticky-update",[d]),d.currentTop===d.topSpacing&&d.currentTop>u||null===d.currentTop&&u<d.topSpacing?d.stickyElement.trigger("sticky-bottom-reached",[d]):null!==d.currentTop&&u===d.topSpacing&&d.currentTop<u&&d.stickyElement.trigger("sticky-bottom-unreached",[d]),d.currentTop=u}var g=d.stickyWrapper.parent(),m=d.stickyElement.offset().top+d.stickyElement.outerHeight()>=g.offset().top+g.outerHeight()&&d.stickyElement.offset().top<=d.topSpacing;m?d.stickyElement.css("position","absolute").css("top","").css("bottom",0).css("z-index",""):d.stickyElement.css("position","fixed").css("top",u).css("bottom","").css("z-index",d.zIndex)}}},h=function(){a=o.height();for(var e=0,i=r.length;i>e;e++){var n=r[e],s=null;n.getWidthFrom?n.responsiveWidth&&(s=t(n.getWidthFrom).width()):n.widthFromWrapper&&(s=n.stickyWrapper.width()),null!=s&&n.stickyElement.css("width",s)}},c={init:function(e){var i=t.extend({},n,e);return this.each(function(){var e=t(this),o=e.attr("id"),s=o?o+"-"+n.wrapperClassName:n.wrapperClassName,a=t("<div></div>").attr("id",s).addClass(i.wrapperClassName);e.wrapAll(function(){return 0==t(this).parent("#"+s).length?a:void 0});var l=e.parent();i.center&&l.css({width:e.outerWidth(),marginLeft:"auto",marginRight:"auto"}),"right"===e.css("float")&&e.css({"float":"none"}).parent().css({"float":"right"}),i.stickyElement=e,i.stickyWrapper=l,i.currentTop=null,r.push(i),c.setWrapperHeight(this),c.setupChangeListeners(this)})},setWrapperHeight:function(e){var i=t(e),n=i.parent();n&&n.css("height",i.outerHeight())},setupChangeListeners:function(t){if(window.MutationObserver){var e=new window.MutationObserver(function(e){(e[0].addedNodes.length||e[0].removedNodes.length)&&c.setWrapperHeight(t)});e.observe(t,{subtree:!0,childList:!0})}else t.addEventListener("DOMNodeInserted",function(){c.setWrapperHeight(t)},!1),t.addEventListener("DOMNodeRemoved",function(){c.setWrapperHeight(t)},!1)},update:l,unstick:function(e){return this.each(function(){for(var e=this,n=t(e),o=-1,s=r.length;s-->0;)r[s].stickyElement.get(0)===e&&(i.call(r,s,1),o=s);-1!==o&&(n.unwrap(),n.css({width:"",position:"",top:"","float":"","z-index":""}))})}};window.addEventListener?(window.addEventListener("scroll",l,!1),window.addEventListener("resize",h,!1)):window.attachEvent&&(window.attachEvent("onscroll",l),window.attachEvent("onresize",h)),t.fn.sticky=function(i){return c[i]?c[i].apply(this,e.call(arguments,1)):"object"!=typeof i&&i?void t.error("Method "+i+" does not exist on jQuery.sticky"):c.init.apply(this,arguments)},t.fn.unstick=function(i){return c[i]?c[i].apply(this,e.call(arguments,1)):"object"!=typeof i&&i?void t.error("Method "+i+" does not exist on jQuery.sticky"):c.unstick.apply(this,arguments)},t(function(){setTimeout(l,0)})});